<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>when P.286 </title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script>
$(function(){

	//$.when P.286 リスト6-47 rejectedに遷移した処理

	//alert(16)の次にalert(8)が表示される

	var df1 = $.Deferred().reject(3,5);
	var df2 = $.Deferred().done(function(a,b){alert(a+b)})
		                    .resolve(7,9); //16

	//then(doneで登録した関数の前に実行するもの,failで登録した関数の前に実行するもの,notify..)
	$.when(df1,df2).then(null,function(a,b){
		console.log(this === df1.promise()); //true
		return a+b;
	}).fail(function(n){alert(n);});

});
</script>
</head>
<body>
<h4>jQuery入門 P.286 Deferred/promise/when </h4>
<p>$.when P.286 リスト6-47 rejectedに遷移した処理</p>
</body>
</html>
