<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Event/keydown</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
</head>
<body>
<p>JQuery本格入門 P.240</p>
<style>
	ul { margin: 20px 0;}
	.keys { margin: 0 10px; padding: 10px; display: inline;
			border:5px dashed lightgray; font-size: 15pt; font-weight:bold; }
	.keydown { border: 5px solid red; }
</style>

<ul></ul>

<script>
$(function(){
	var props = ['altKey','ctrlKey','metaKey','shiftKey'];

	$.each(props,function(idx,name){
		$('<li>',{id:name,class:'keys',text:name}).appendTo('ul');
	});

	var handler = function(ev) {
		if( ev.keyCode >= 16 && ev.keyCode <= 18 ) {
			$.each(props,function(idx,prop) {
				$(document.getElementById(prop)).toggleClass('keydown',ev[prop]);
			});
		}
		return false;
	};

	$(document).keydown(handler).keyup(handler);
});
</script>
</body>
</html>
